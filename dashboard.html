<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>NetVision ATS â€“ Production Master</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>

<body>

<div class="sidebar">
  <h4 class="text-white">NetVision ATS</h4>

  <a onclick="switchTab('dashboard')" class="active-link">Dashboard</a>
  <a onclick="switchTab('jd')">JD</a>
  <a onclick="switchTab('daily')">Daily</a>
  <a onclick="switchTab('submission')">Submission</a>
  <a onclick="switchTab('proposal')">Proposal</a>
  <a onclick="switchTab('interview')">Interview</a>
  <a onclick="switchTab('placement')">Placement</a>
  <a onclick="switchTab('start')">Start</a>
  <a onclick="switchTab('tasks')">Tasks</a>
  <a onclick="switchTab('meetings')">Meetings</a>
  <a onclick="logout()">Logout</a>
</div>

<div class="main">

<!-- ================= DASHBOARD ================= -->

<div id="dashboard" class="section active">
  <h2>KPI Overview</h2>

  <div class="kpi-cards">
    <div class="card">Submissions <span id="kpiSub">0</span></div>
    <div class="card">Interviews <span id="kpiInt">0</span></div>
    <div class="card">Placements <span id="kpiPlace">0</span></div>
    <div class="card">Starts <span id="kpiStart">0</span></div>
  </div>

  <div class="table-container">
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Month</th>
          <th>Sub</th>
          <th>Int</th>
          <th>Place</th>
          <th>Start</th>
        </tr>
      </thead>
      <tbody id="monthlyBody"></tbody>
    </table>
  </div>
</div>

<!-- ================= JD ================= -->

<div id="jd" class="section">
  <h2>JD Management</h2>

  <div class="row g-2 mb-3">
    <div class="col"><input id="jdDate" type="date" class="form-control"></div>
    <div class="col"><input id="jdNvr" placeholder="NVR ID" class="form-control"></div>
    <div class="col"><input id="jdTitle" placeholder="Job Title" class="form-control"></div>
    <div class="col"><input id="jdClient" placeholder="Client" class="form-control"></div>
    <div class="col">
      <select id="jdStatus" class="form-select">
        <option>Active</option>
        <option>Hold</option>
        <option>Closed</option>
      </select>
    </div>
    <div class="col"><button onclick="addJD()" class="btn btn-primary w-100">Add</button></div>
  </div>

  <div class="table-container">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>#</th><th>Date</th><th>NVR</th><th>Title</th>
          <th>Client</th><th>Status</th><th>Action</th>
        </tr>
      </thead>
      <tbody id="jdBody"></tbody>
    </table>
  </div>
</div>

<!-- ================= DAILY ================= -->

<div id="daily" class="section">
  <h2>Daily Entry</h2>

  <textarea id="resumeText" class="form-control mb-2" placeholder="Paste Resume Here"></textarea>
  <button onclick="parseResume()" class="btn btn-secondary mb-3">Parse Resume</button>

  <div class="row g-2 mb-3">
    <div class="col"><input id="dailyName" class="form-control" placeholder="Name"></div>
    <div class="col"><input id="dailyEmail" class="form-control" placeholder="Email"></div>
    <div class="col"><input id="dailyPhone" class="form-control" placeholder="Phone"></div>
    <div class="col"><input id="dailyLocation" class="form-control" placeholder="Location"></div>
  </div>

  <div class="row g-2 mb-3">
    <div class="col">
      <select id="dailyRequirement" class="form-select" onchange="autoFillClient()"></select>
    </div>
    <div class="col"><input id="dailyClient" class="form-control" placeholder="Client"></div>
    <div class="col">
      <select id="dailySource" class="form-select">
        <option>LinkedIn</option>
        <option>Dice</option>
        <option>Monster</option>
        <option>Referral</option>
        <option>Indeed</option>
      </select>
    </div>
    <div class="col">
      <select id="dailyVisa" class="form-select">
        <option>US Citizen</option>
        <option>GC</option>
        <option>H1B</option>
      </select>
    </div>
    <div class="col"><input id="dailyNotes" class="form-control" placeholder="Notes"></div>
    <div class="col"><button onclick="saveDaily()" class="btn btn-success w-100">Save</button></div>
  </div>

  <div class="table-container">
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>#</th><th>Date</th><th>Name</th><th>Email</th>
          <th>Phone</th><th>Req</th><th>Client</th>
          <th>Source</th><th>Location</th><th>Visa</th>
          <th>Notes</th><th>Action</th>
        </tr>
      </thead>
      <tbody id="dailyBody"></tbody>
    </table>
  </div>
</div>

<!-- Stage tables have headers now -->

<div id="submission" class="section">
  <h2>Submission</h2>
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>#</th><th>Date</th><th>Name</th><th>Client</th>
        <th>Req</th><th>Notes</th><th>Action</th>
      </tr>
    </thead>
    <tbody id="submissionBody"></tbody>
  </table>
</div>

<div id="proposal" class="section">
  <h2>Proposal</h2>
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>#</th><th>Date</th><th>Name</th><th>Client</th>
        <th>Req</th><th>Notes</th><th>Action</th>
      </tr>
    </thead>
    <tbody id="proposalBody"></tbody>
  </table>
</div>

<div id="interview" class="section">
  <h2>Interview</h2>
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>#</th><th>Date</th><th>Name</th><th>Client</th>
        <th>Req</th><th>Notes</th><th>Action</th>
      </tr>
    </thead>
    <tbody id="interviewBody"></tbody>
  </table>
</div>

<div id="placement" class="section">
  <h2>Placement</h2>
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>#</th><th>Date</th><th>Name</th><th>Client</th>
        <th>Req</th><th>Notes</th><th>Action</th>
      </tr>
    </thead>
    <tbody id="placementBody"></tbody>
  </table>
</div>

<div id="start" class="section">
  <h2>Start</h2>
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>#</th><th>Date</th><th>Name</th><th>Client</th>
        <th>Req</th><th>Notes</th><th>Action</th>
      </tr>
    </thead>
    <tbody id="startBody"></tbody>
  </table>
</div>

<div id="tasks" class="section">
  <h2>Tasks</h2>
  <div class="row g-2 mb-3">
    <div class="col"><input id="taskTitle" class="form-control" placeholder="Task"></div>
    <div class="col"><input id="taskDue" type="date" class="form-control"></div>
    <div class="col"><button onclick="addTask()" class="btn btn-primary w-100">Add</button></div>
  </div>
  <div id="taskList"></div>
</div>

<div id="meetings" class="section">
  <h2>Meetings</h2>
  <div class="row g-2 mb-3">
    <div class="col"><input id="meetingDate" type="date" class="form-control"></div>
    <div class="col"><input id="meetingTitle" class="form-control" placeholder="Title"></div>
    <div class="col"><input id="meetingNotes" class="form-control" placeholder="Notes"></div>
    <div class="col"><button onclick="addMeeting()" class="btn btn-primary w-100">Add</button></div>
  </div>
  <div id="meetingList"></div>
</div>

</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.7/dist/umd/supabase.min.js"></script>
<script src="./script.js?v=999"></script>

</body>
</html>